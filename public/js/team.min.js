!function(e){function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var t={};r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=83)}({83:function(e,r,t){"use strict";$(function(){if($("#apply").on("click",function(){var e=$(this);return e.attr("disabled","disabled"),$.post("/teams/apply",{team_id:team_id}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,t){console.log("error")}).always(function(){e.removeAttr("disabled")}),!1}),$("#dis_apply").on("click",function(){var e=$(this);return e.attr("disabled","disabled"),$.post("/teams/dis_apply",{team_id:team_id}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,t){console.log("error")}).always(function(){e.removeAttr("disabled")}),!1}),$(".approve").on("click",function(){var e=$(this);e.attr("disabled","disabled");var r=e.attr("data-id");return $.post("/teams/approve",{team_id:team_id,user_id:r}).done(function(r){if("ok"!=r.status)for(var t in r.errors)alert(r.errors[t].msg);else $(e).closest("tr").remove()}).fail(function(e,r,t){console.log("error")}).always(function(){e.removeAttr("disabled")}),!1}),$("#leave").on("click",function(){var e=$(this);e.attr("disabled","disabled");e.attr("data-id");return $.post("/teams/leave",{team_id:team_id}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,t){console.log("error")}).always(function(){e.removeAttr("disabled")}),!1}),$(".remove").on("click",function(){var e=$(this);e.attr("disabled","disabled");var r=e.attr("data-id");return $.post("/teams/remove_participant",{team_id:team_id,user_id:r}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,t){console.log("error")}).always(function(){e.removeAttr("disabled")}),!1}),$(".assign_vice_captain").on("click",function(){var e=$(this);e.attr("disabled","disabled");var r=e.attr("data-id");return $.post("/teams/assign_vice_captain",{team_id:team_id,user_id:r}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,t){console.log("error")}).always(function(){e.removeAttr("disabled")}),!1}),$(".assign_captain").on("click",function(){var e=$(this);e.attr("disabled","disabled");var r=e.attr("data-id");return confirm("Вы уверены ?")&&$.post("/teams/assign_captain",{team_id:team_id,user_id:r}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,t){console.log("error")}).always(function(){e.removeAttr("disabled")}),!1}),"undefined"!=typeof Html5Upload){new Html5Upload({input:"#exampleFormControlFile1",filenameAttr:"name",statusContainer:"#container",upload_url:"/teams/upload",callbacks:{before_send:function(e,r,t){r.append("team_id",team_id)},complete:function(e,r,t){"ok"==e.status?$("#image").attr("src",e.image):alert("Error. Check the file."),console.log(e)}}}).setHandler()}$("#edit_tournament").on("submit",function(){return $(".errors").addClass("hidden").empty(),$.post("/teams/update",{team_id:team_id,name:$("#title").val(),description:$.trim($("#description").val()),country:$("#country").val()}).done(function(e){if("ok"!=e.status){$(".errors").removeClass("hidden");for(var r in e.errors)$(".errors").append(e.errors[r].msg)}else e.insertId&&(location.href="/teams/"+e.insertId)}).fail(function(e,r,t){if($(".errors").removeClass("hidden"),e)for(var o in e.responseJSON.errors)$(".errors").append(e.responseJSON.errors[o].msg+"<br/>");else alert("Ошибка сохранения")}),!1})})}});