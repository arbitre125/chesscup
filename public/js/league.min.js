!function(e){function r(s){if(o[s])return o[s].exports;var n=o[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var o={};r.m=e,r.c=o,r.d=function(e,o,s){r.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:s})},r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=84)}({84:function(e,r,o){"use strict";$(function(){if("undefined"!=typeof Html5Upload){new Html5Upload({input:"#exampleFormControlFile1",filenameAttr:"name",statusContainer:"#container",upload_url:"/leagues/upload",callbacks:{before_send:function(e,r,o){r.append("team_id",team_id)},complete:function(e,r,o){"ok"==e.status?$("#image").attr("src",e.image):alert("Error. Check the file."),console.log(e)}}}).setHandler()}$("#edit_tournament").on("submit",function(){return $(".errors").addClass("hidden").empty(),$.post("/leagues/update",{team_id:team_id,name:$("#title").val(),description:$.trim($("#description").val()),country:$("#country").val()}).done(function(e){if("ok"!=e.status){$(".errors").removeClass("hidden");for(var r in e.errors)$(".errors").append(e.errors[r].msg)}else e.insertId&&(location.href="/leagues/"+e.insertId)}).fail(function(e,r,o){if($(".errors").removeClass("hidden"),e)for(var s in e.responseJSON.errors)$(".errors").append(e.responseJSON.errors[s].msg+"<br/>");else alert("Ошибка сохранения")}),!1}),$("#add_season").on("click",function(){var e=$(this);return e.attr("disabled","disabled"),$.post("/leagues/seasons/create",{league_id:league_id}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,o){console.log("error"),e=JSON.parse(e.responseText);for(var s in e.errors)alert(e.errors[s].msg)}).always(function(){e.removeAttr("disabled")}),!1}),$("#update_description").on("click",function(){var e=$(this);return e.attr("disabled","disabled"),console.log($("#season_description").val()),console.log(season_id),$.post("/leagues/seasons/update",{season_id:season_id,description:$("#season_description").val()}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.reload()}).fail(function(e,r,o){console.log("error"),e=JSON.parse(e.responseText);for(var s in e.errors)alert(e.errors[s].msg)}).always(function(){e.removeAttr("disabled")}),!1}),$("#end_season").on("click",function(){var e=$(this);return e.attr("disabled","disabled"),$.post("/leagues/seasons/end",{season_id:season_id}).done(function(e){if("ok"!=e.status)for(var r in e.errors)alert(e.errors[r].msg);else location.href="/leagues/"+league_id}).fail(function(e,r,o){console.log("error"),e=JSON.parse(e.responseText);for(var s in e.errors)alert(e.errors[s].msg)}).always(function(){e.removeAttr("disabled")}),!1})})}});