<div class="errors alert alert-danger hidden"></div>

<label for="title">Название турнира</label>
<input type="text" id="title" name="title" class="form-control" value="<%= (typeof tournament !== "undefined") ? tournament.title : "" %>">

<div class="row">
    <div class="col-sm-12">
        <label for="country" class="mt-3">Тип турнира</label>
        <br>
        <select name="type" class="form-control" id="type">

            <option value="1" <%= (typeof tournament !== "undefined" && tournament.type == "1") ? "selected" : "" %>>Индивидуальный (швейцарская система)</option>
            <option value="11" <%= (typeof tournament !== "undefined" && tournament.type == "11") ? "selected" : "" %>>Командный (швейцарская с добавлением игроков)</option>
            <option value="20" <%= (typeof tournament !== "undefined" && tournament.type == "20") ? "selected" : "" %>>Командный (швейцарская без добавления игроков)</option>

        </select>
    </div>
</div>

<div class="row <%= (typeof tournament === "undefined" || tournament.type == "1") ? "hidden" : "" %>" id="team_boards-wrapper">
    <div class="col-sm-12">
        <label for="team_boards" class="mt-3">Количество досок в команде</label>
        <input type="text" id="team_boards" name="team_boards" class="form-control" value="<%= (typeof tournament !== "undefined" && tournament.team_boards != null) ? tournament.team_boards : "5" %>">

    </div>
</div>

<label for="tours_count" class="mt-3">Количество туров</label>
<input type="text" id="tours_count" name="tours_count" class="form-control" value="<%= (typeof tournament !== "undefined") ? tournament.tours_count : "7" %>">


<label for="city" class="mt-3">Город проведения</label>
<input type="text" id="city" name="city_id" class="form-control" value="<%= (typeof tournament !== "undefined") ? tournament.city : "Казань" %>">
<% if (typeof tournament !== "undefined") { %>
    <input type="hidden" id="tournament_id" value="<%= tournament.id %>">
<%  } %>



<div class="row">
    <div class="col-sm-12">
        <label for="country" class="mt-3">Страна проведения</label>
        <br>
        <select name="country" class="simple-select2" id="country">
            <% for (var i in countries) { %>
            <option value="<%= i %>" <%= (typeof tournament !== "undefined" && i === tournament.country) ? "selected" : "" %>><%= countries[i] %></option>
            <% } %>
        </select>
    </div>
</div>


<div class="row">
    <div class="col-sm-6">
        <label for="start_date" class="mt-3">Дата начала</label>
        <input type="text" id="start_date" name="start_date" class="form-control" value="<%= (typeof tournament !== "undefined") ? tournament.start_date : "" %>">
    </div>
    <div class="col-sm-6">
        <label for="end_date" class="mt-3">Дата окончания</label>
        <input type="text" id="end_date" name="end_date" class="form-control" value="<%= (typeof tournament !== "undefined") ? tournament.end_date : "" %>">
    </div>
</div>




<input type="submit" class="btn btn-primary mt-3" value="Сохранить">


<script>
    $("#type").on("change", function () {
        if($(this).val() > 10) {
            $("#team_boards-wrapper").removeClass("hidden");
        } else {
            $("#team_boards-wrapper").addClass("hidden");
        }
    });
</script>